# Renamed

Renamed is a macro to ease the renaming of symbols. For example, say you have

```swift
struct MyType {
    let propertyName: String
}
```

but you rename `MyType.propertyName` to `MyType.newName`. To avoid introducing a breaking change you can add a computed property named `propertyName` decorated with `@available(*, deprecated, renamed: "newName")`, but this can be cumbersome.

With Renamed this can be done with a single attribute.

```swift
struct MyType {
    @Renamed(from: "propertyName")
    let newProperty: String
}
```

This generates the Swift code:

```swift
struct MyType {
    let newName: String

    @available(*, deprecated, renamed: "newName")
    var propertyName: String {
        newName
    }
}
```

(this isn't _exactly_ how the macro gets expanded, but that's not important here)

This works for:

- [x] Structs
- [x] Classes
- [x] Enums
- [x] Type aliases
- [x] Immutable properties
- [x] Mutable properties
- [x] Functions

## FAQ

**Q: Will this be slow?**

**A:** There is a small compile-time hit but it's minimal. The code produced is often identical to what would be written by hand. No runtime dependencies are added.

**Q: Do I have to add a whole dependency just to save myself some typing?**

**A:** Yes, although maybe a future version of Xcode will make this easier. Personally I would only consider using this project for a big refactor.

**Q: Is this type-safe?**

**A:** To a degree. Swift will check the code generated by this marco, so if you enter an invalid name, e.g. `@Renamed(from: "1nvalid")` the compiler will throw an error.

**Q: Where can I find more about macros?**

**A:** [Swift Macros Dashboard](https://gist.github.com/DougGregor/de840fcf6d6f307792121eee11c0da85)

## Installation

To use macros you need to use a recent Swift toolchain. This repo is tested with swift-DEVELOPMENT-SNAPSHOT-2023-04-27-a, but it should work on anything more recent too.

## License

[MIT](./LICENSE)
